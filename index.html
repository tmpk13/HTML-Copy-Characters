<html>
    <head>
        <style>
        #copy-container {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            flex-direction: row;
            margin: auto;
            width: 100%;
        }
        .copy-box {
            border: 2px solid #666;
            text-align: center;
            border-radius: 8px;
            cursor: pointer;
            font-size: 10vmin;
            transition: all 0.2s;
            aspect-ratio: 1/1;
            width: 10%;
            
        }
        .copy-box:hover { background: #f5f5f5; }
        .copy-box.copied {
            background: #90EE90; transform: scale(0.95); 
        }
        body {
            font-family: "F0xProto";
        }
        @import url(https://db.onlinewebfonts.com/c/e8e7a20efd02fd010b6634a4d4cfbc8b?family=F0xProto);

        .scroll-top {
            position: fixed;
            bottom: 1vmin;
            left: 44vw;
            margin: auto;
            text-align: center;
            display: none;
            width: 12vw;
            height: 12vw;
            background: #ff6b35;
            color: #fef9f3;
            border: solid 1vmin #fef9f3;
            border-radius: 50%;
            font-size: 5vmin;
            cursor: pointer;
            z-index: 1000;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        .scroll-top:hover {
            background: #ff8555;
        }
        </style>
    </head>

    <body>
        <div id="copy-container"></div>
        <button id="scrollTop" class="scroll-top">↑</button>
        <button id="reset-use">↺</button>
        <script>
            // Text for each DIV element, for copying 
            const texts = [];
            let uses = JSON.parse(localStorage.getItem('charUsage')) || {};

            // All box drawing characters unicode 2500-257F (8 rows 16 options: 128)
            for ( let j = 0; j <= 128; ++ j ) {
                let char = String.fromCodePoint(0x2500+j);
                texts.push(char); 
            }

            // All arrow characters unicode 2190-21FF (7 rows 16 options: 112)
            for ( let j = 0; j <= 112; ++ j ) {
                let char = String.fromCodePoint(0x2190+j);
                texts.push(char); 
            }

            // All block element characters unicode 2580-259F (2 rows 16 options: 32)
            for ( let j = 0; j <= 32; ++ j ) {
                let char = String.fromCodePoint(0x2580+j);
                texts.push(char); 
            }

            texts.forEach(char => {
                if (!(char in uses)) uses[char] = 0;
            });
            

            // Get the DIV container
            const container = document.getElementById('copy-container');
            
            // Create each DIV and set the content
            texts.forEach(text => {
                const el = document.createElement('div');
                el.className = 'copy-box';
                el.textContent = text;
                container.appendChild(el);
            });
            
            // Get all copy boxes
            const elements = document.querySelectorAll('.copy-box');
            const elementList = Array.from(elements);
            
            // Add event listener for each copy box
            elements.forEach(el => {
                el.addEventListener('click', () => {
                    navigator.clipboard.writeText(el.textContent); 
                    el.classList.add('copied'); 
                    setTimeout(() => el.classList.remove('copied'), 1000);
                    uses[el.textContent] += 1;
                    
                    localStorage.setItem('charUsage', JSON.stringify(uses));
                    
                    setTimeout(() => {
                        elementList
                            .sort((a, b) => Number(uses[b.textContent]) - Number(uses[a.textContent]))
                            .forEach(div => container.appendChild(div));
                    }, 500);
                });
            });


            // Scroll to top button
            const btn = document.getElementById('scrollTop');

            window.addEventListener('scroll', () => {
              btn.style.display = window.scrollY > 300 ? 'block' : 'none';
            });

            btn.addEventListener('click', () => {
              window.scrollTo({ top: 0, behavior: 'smooth' });
            });

        </script>
    </body>
</html>
